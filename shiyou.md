【プロジェクト概要】 現在開発中の児童福祉施設向けSaaS「Roots」のコードベースとデータベースが複雑化しているため、一度すべてのレガシー機能を削ぎ落とし、最小要件（MVP）のみを持つクリーンなシステムとして再構築します。 以下の要件定義に従い、データベース設計（ER図の構想）と、各機能の実装を行ってください。これ以外の機能は削除してください。

【Roots MVPの3つのコア・アカウント】 システムは、1つのデータベース上で連携する以下の3つのユーザーロールで構成されます。

1. 施設管理者アカウント（Roots for Facility）
役割： 施設の運営、監査準備、スタッフと児童の管理。

必須機能：

施設情報の登録。

スタッフ（キャリアアカウント）の招待と紐付け。

保護者アカウントの招待と児童情報の紐付け。

スタッフのシフト作成と、日々の勤怠打刻の確認・修正。

有給休暇の承認フロー。

【重要】登録されたスタッフの資格と勤怠データから、実地指導に必要な「勤務実績表（出勤簿）」を出力できる状態にしておくこと。

2. スタッフ/キャリアアカウント（Roots for Career）
役割： 専門職（PT・ST・保育士など）が自身の勤怠と経歴を管理する。

必須機能：

自身のプロフィールと保有資格の登録。

スマホからの出退勤打刻（GPSまたはQR）。

自身のシフト確認と、有給休暇の申請。

【重要】打刻データは施設側だけでなく、個人の「実務経験ログ」としてデータベース上（ユーザーIDに紐づく形）に蓄積される設計にすること。

3. 保護者アカウント（Roots for Family）★バイラルエンジン
役割： 児童の情報を施設と共有し、ペーパーレス化を実現する。

必須機能：

児童のプロフィール、特性、受給者証データ（画像と期間）の登録。

施設とのシンプルな連絡機能（日々の記録の受け取り、または欠席連絡）。

【重要】保護者（児童）は複数の施設に紐づける設計（N:Mの関係）にしておくこと。これにより、保護者が別の施設にRootsを紹介した際、即座に自分のデータを連携できるようにする。

【データベース（DB）設計の絶対ルール】 データが分断されないよう、以下のリレーション（繋がり）を厳格に守ってテーブルを設計してください。

Usersテーブル（大元）：

Role（管理者 / スタッフ / 保護者）を持たせる。

Facilitiesテーブル（施設）：

施設情報。

Childrenテーブル（児童）：

保護者（User）に紐づく。

施設（Facility）と中間テーブル（例：Facility_Children）で紐づく（1人の児童が複数施設に通えるようにするため）。

Staff_Profilesテーブル（資格・経歴）：

スタッフ（User）に紐づく。

Attendancesテーブル（勤怠・打刻）：

誰が（Staff_User_ID）、どこで（Facility_ID）、いつ（時間）働いたかを記録する。これが施設側の「監査データ」になり、スタッフ側の「実務経験データ」になる。

【AIへの最終指示】 上記のリレーションが完全に繋がった状態のデータベース設計（スキーマ）をまず提示してください。私が承認した後、フロントエンドとバックエンドの構築（まずは施設管理者とスタッフの勤怠連動部分から）を開始してください。